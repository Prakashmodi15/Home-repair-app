<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Naapi-Amin Pro — Live Triangle (Survey)</title>
<style>
:root{
  --bg:#f3f7fb; --panel:#fff; --muted:#223; --accent:#0b74de; --danger:#d9534f;
}
html,body{height:100%;margin:0;background:var(--bg);font-family:system-ui,Segoe UI,Roboto,Arial}
.container{max-width:1000px;margin:8px auto;padding:10px;display:flex;flex-direction:column;gap:10px}
.canvasWrap{background:var(--panel);border-radius:10px;padding:10px;box-shadow:0 8px 26px rgba(10,20,30,0.06);position:relative;overflow:hidden}
canvas{width:100%;height:560px;display:block;border-radius:6px;background:#fff;touch-action:none}
.controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.btn{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer}
.toggle{padding:8px 12px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer}
.info{display:flex;gap:8px;flex-wrap:wrap}
.info .box{background:#fff;padding:8px;border-radius:8px;font-size:13px;min-width:120px}
.inlineInput{position:absolute;display:none;z-index:400;background:#fff;border:1px solid #ccc;padding:6px;border-radius:6px;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
.inlineInput input{width:120px;padding:6px;font-size:14px}
.small{font-size:13px;color:var(--muted)}
.legend{font-size:12px;color:#666}
.kv{font-weight:600}
.footerNote{font-size:12px;color:#666;margin-top:6px}
@media(max-width:640px){ canvas{height:420px} .info .box{min-width:110px} }
</style>
</head>
<body>
<div class="container">
  <h2 style="margin:0">Naapi-Amin Pro — Live Triangle Editor</h2>

  <div class="canvasWrap" id="canvasWrap">
    <canvas id="cv"></canvas>

    <!-- smart inline input -->
    <div id="inline" class="inlineInput" aria-hidden="true">
      <div id="inlineTitle" class="small" style="margin-bottom:6px"></div>
      <input id="inlineInput" type="number" step="0.001" inputmode="decimal" />
    </div>
  </div>

  <div class="controls">
    <div class="small">Click side label / near line or double-tap vertex. Drag points to move. Enter → Apply.</div>
    <div style="flex:1"></div>

    <button id="zoomIn" class="toggle">+ Zoom</button>
    <button id="zoomOut" class="toggle">- Zoom</button>
    <button id="fitBtn" class="toggle">Fit</button>

    <button id="gridToggle" class="toggle">Grid</button>
    <button id="constructToggle" class="toggle">Construct: OFF</button>
    <button id="snapToggle" class="toggle">Snap 45°: OFF</button>
    <button id="ssaToggle" class="toggle">SSA alt: OFF</button>

    <button id="exportSVG" class="btn">Export SVG</button>
    <button id="exportPNG" class="btn" style="background:#4caf50">Export PNG</button>
    <button id="resetBtn" class="btn" style="background:#666">Reset</button>
  </div>

  <div class="info" id="infoRow" title="Tap to cycle SSA solutions">
    <div class="box">a (BC): <span id="va">—</span></div>
    <div class="box">b (CA): <span id="vb">—</span></div>
    <div class="box">c (AB): <span id="vc">—</span></div>
    <div class="box">∠A: <span id="angA">—</span>°</div>
    <div class="box">∠B: <span id="angB">—</span>°</div>
    <div class="box">∠C: <span id="angC">—</span>°</div>
    <div class="box">Area: <span id="area">—</span></div>
    <div class="box">Perim: <span id="peri">—</span></div>
    <div class="box">Type: <span id="ttype">—</span></div>
  </div>

  <div class="footerNote">Tip: double-tap vertex label to edit angle. Tap side or near line to edit length inline. Drag points to reposition. SSA ambiguous cases supported.</div>
</div>

  <script src="js/utils.js"></script>
  <script src="js/draw.js"></script>
  <script src="js/logic.js"></script>
  <script src="js/events.js"></script>
  <script src="js/main.js"></script>

</body>
</html>
